<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
  <title>nlhtree_py</title>
  <meta charset="utf-8" />
  <link rel="stylesheet" type="text/css" href="css/main.css" />
  <link rel="stylesheet" type="text/css" href="css/normalize.css" />
  <link rel="stylesheet" type="text/css" href="css/ghp.css" />
</head>
<body>
<div class="content">
<h1 class="libTop">nlhtree_py</h1>

<h2>Data Structure</h2>

<p>This project is a Python3 implementation of the NLHTree, a data structure
defined
<a href="https://jddixon.github.io/xlattice/nlhTree.html">here</a>
in some detail.</p>

<p>The NLHTree represents a directory structure as
an indented list.  Directory names appear alone on a line; files
in a given directory are listed at an indent of one space below
the directory name, with the file name followed by the
Secure Hash Algoritm hash of the file contents,
<a href="https://en.wikipedia.org/wiki/SHA-1">SHA1</a> or
<a href="https://en.wikipedia.org/wiki/SHA-2">SHA256</a>
as appropriate.  These are printed as 40 or 64 hexadecimal digits
respectively.</p>

<h2>Use in BuildLists</h2>

<p>The NLHTree is used in the
<a href="https://jddixon.github.com/xlattice/buildList.html">BuildList</a>;
it this context it is prefixed with a title, RSA public key, and
timestamp and then optionally digitally signed.  If signed it can
be used to guarantee the integrity of a file system.  That is, it
can be used to detect any modifications to an existing directory
structure.  Alternatively, it can be used to reconstruct a file
system in systems such as distributed version control systems,
with the content key used to guarantee that the files retrieved
are identical to those in the original form of the directory structure.</p>

<h2>Utilities</h2>

<h3>nlh<em>check</em>in<em>data</em>dir</h3>

<pre><code>usage: nlh_check_in_data_dir [-h] [-b LIST_FILE] [-d DATA_DIR] [-j] [-T] [-V]
                             [-1] [-2] [-3] [-u U_PATH] [-v]

list any files in the NLHTree not present in the directory,

optional arguments:
  -h, --help            show this help message and exit
  -b LIST_FILE, --list_file LIST_FILE
                        where to write listing (default = list.nlh)
  -d DATA_DIR, --data_dir DATA_DIR
                        path to data directory
  -j, --just_show       show options and exit
  -T, --testing         this is a test run
  -V, --show_version    print the version number and exit
  -1, --using_sha1      using the 160-bit SHA1 hash
  -2, --using_sha2      using the 256-bit SHA2 (SHA256) hash
  -3, --using_sha3      using the 256-bit SHA3 (Keccak-256) hash
  -u U_PATH, --u_path U_PATH
                        path to uDir
  -v, --verbose         be chatty
</code></pre>

<h3>nlh<em>check</em>in<em>u</em>dir</h3>

<pre><code>usage: nlh_check_in_u_dir [-h] [-b LIST_FILE] [-j] [-T] [-V] [-1] [-2] [-3]
                          [-u U_PATH] [-v]

given a project directory, write an NLHTree while backing the project up to U

optional arguments:
  -h, --help            show this help message and exit
  -b LIST_FILE, --list_file LIST_FILE
                        where to write listing (default = list.nlh)
  -j, --just_show       show options and exit
  -T, --testing         this is a test run
  -V, --show_version    print the version number and exit
  -1, --using_sha1      using the 160-bit SHA1 hash
  -2, --using_sha2      using the 256-bit SHA2 (SHA256) hash
  -3, --using_sha3      using the 256-bit SHA3 (Keccak-256) hash
  -u U_PATH, --u_path U_PATH
                        path to uDir
  -v, --verbose         be chatty
</code></pre>

<h3>nlh<em>populate</em>data_dir</h3>

<pre><code>usage: nlh_populate_data_dir [-h] [-b LIST_FILE] [-j] [-p PATH] [-T] [-V] [-z]
                             [-1] [-2] [-3] [-u U_PATH] [-v]

given an NLHTree and U, recreate the corresponding data directory

optional arguments:
  -h, --help            show this help message and exit
  -b LIST_FILE, --list_file LIST_FILE
                        where to write listing (default = list.nlh)
  -j, --just_show       show options and exit
  -p PATH, --path PATH  path to data directory
  -T, --testing         this is a test run
  -V, --show_version    print the version number and exit
  -z, --dont_do_it      don&#39;t actually do anything, just say what you would do
  -1, --using_sha1      using the 160-bit SHA1 hash
  -2, --using_sha2      using the 256-bit SHA2 (SHA256) hash
  -3, --using_sha3      using the 256-bit SHA3 (Keccak-256) hash
  -u U_PATH, --u_path U_PATH
                        path to uDir
  -v, --verbose         be chatty
</code></pre>

<h3>nlh<em>save</em>to<em>u</em>dir</h3>

<pre><code>usage: nlh_save_to_u_dir [-h] [-b LISTFILE] [-d DATADIR] [-j] [-T] [-V] [-z]
                         [-1] [-2] [-3] [-u U_PATH] [-v]

given a project directory, write an NLHTree while backing the project up to U

optional arguments:
  -h, --help            show this help message and exit
  -b LISTFILE, --listFile LISTFILE
                        where to write listing (default = list.nlh)
  -d DATADIR, --dataDir DATADIR
                        path to data directory
  -j, --justShow        show options and exit
  -T, --testing         this is a test run
  -V, --showVersion     print the version number and exit
  -z, --dontDoIt        don&#39;t actually do anything, just say what you would do
  -1, --using_sha1      using the 160-bit SHA1 hash
  -2, --using_sha2      using the 256-bit SHA2 (SHA256) hash
  -3, --using_sha3      using the 256-bit SHA3 (Keccak-256) hash
  -u U_PATH, --u_path U_PATH
                        path to uDir
  -v, --verbose         be chatty
</code></pre>

<h2>Project Status</h2>

<p>A good beta.  All tests succeed.</p>

<h2>Licensing</h2>
<p><a rel="license" href="http://creativecommons.org/licenses/by/4.0/"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by/4.0/88x31.png" /></a><br />The material on this github.io website is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by/4.0/">Creative Commons Attribution 4.0 International License</a>.</p>
<p>Project software is licensed under an MIT license.
Follow the SOFTWARE LICENSE link below for more information on project software licensing.</p>  <div class="f">
    <hr />
    <div class="license">
      <p><a href="LICENSE-MIT.html">SOFTWARE LICENSE</a></p>
    </div>
    <div class="project">
      github <a href="https://github.com/jddixon/nlhtree_py">      <img src="img/GitHub-Mark-32px.png" 
        alt="link to project"  
        style="display: inline-block; margin-left: 0 auto; margin-right: 0 auto">
       </a> project
    </div>
    <div class="logo" >
      <a href="https://jddixon.github.io/xlattice/">
      <img src="img/xlattice-2014.jpg" alt="the XLattice Project" style="float: right;" >
      </a>
    </div>
  </div>
</div>
</body>
</html>
